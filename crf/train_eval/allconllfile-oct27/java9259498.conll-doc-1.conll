B-Stan	0	6	Oracle
I-Stan	7	13	Stored
I-Stan	14	23	procedure
O	24	34	Structured
O	35	45	Parameters

O	46	47	I
O	48	52	wish
O	53	55	to
O	56	60	pass
O	61	62	a
O	63	68	bunch
O	69	71	of
O	72	73	'
O	74	81	unknown
O	82	83	'
O	84	90	values
O	91	93	to
O	94	96	an
B-Stan	97	103	Oracle
I-Stan	104	110	stored
I-Stan	111	120	procedure
O	121	125	from
O	126	127	a
B-Fram	128	134	spring
B-PL	135	139	java
O	140	151	application
O	151	152	.

O	153	156	The
O	157	161	data
O	162	164	is
O	165	173	somewhat
O	174	184	structured
O	184	185	,
O	186	188	so
O	189	198	currently
O	199	201	we
O	202	206	have
O	207	208	a
O	209	215	stored
O	216	220	proc
O	221	225	that
O	226	229	has
O	230	237	accepts
O	238	239	2
O	240	245	clobs
O	246	250	what
O	251	254	are
O	255	258	key
O	259	260	/
O	261	266	value
O	267	272	pairs
O	273	275	of
O	276	279	the
O	280	284	data
O	284	285	.

O	286	289	The
O	290	295	first
O	296	300	clob
O	301	311	represents
O	312	313	a
O	314	320	single
O	321	327	record
O	328	331	amd
O	332	335	the
O	336	342	second
O	343	347	clob
O	347	348	,
O	349	359	represents
O	360	364	many
O	365	370	child
O	371	378	records
O	379	381	of
O	382	386	clob
O	387	388	1
O	388	389	.

O	390	394	This
O	395	400	seems
O	401	402	a
O	403	407	very
O	408	419	inefficient
O	420	423	way
O	424	426	to
O	427	431	pass
O	432	435	the
O	436	440	data
O	441	443	as
O	444	446	we
O	447	451	have
O	452	454	to
O	455	464	construct
O	465	472	strings
O	473	475	in
B-PL	476	480	java
O	481	483	in
O	484	487	the
O	488	493	forst
O	494	499	plave
O	500	503	and
O	504	508	then
O	509	512	the
O	513	517	data
O	518	521	has
O	522	524	to
O	525	527	be
O	528	534	parsed
O	535	537	in
O	538	541	the
O	542	548	stored
O	549	553	proc
O	553	554	.

O	555	556	I
O	557	561	have
O	562	568	looked
O	569	573	into
O	574	580	Oracle
O	581	587	record
O	588	598	structures
O	598	599	,
O	600	607	however
O	608	610	it
O	611	618	appears
O	619	621	as
O	622	628	though
O	629	632	you
O	633	637	have
O	638	640	to
O	641	644	map
O	645	649	each
O	650	655	field
O	656	658	in
O	659	662	the
O	663	669	record
O	670	679	structure
O	680	682	to
O	683	684	a
O	685	687	db
O	688	693	table
O	694	699	field
O	699	700	.
O	701	704	the
O	705	712	problem
O	713	717	with
O	718	722	this
O	723	731	approach
O	732	734	is
O	735	736	a
O	736	737	)
O	738	741	the
O	742	746	data
O	747	752	items
O	753	757	that
O	758	760	we
O	761	765	send
O	766	770	each
O	771	775	time
O	776	782	differ
O	783	784	(
O	784	792	although
O	793	798	there
O	799	801	is
O	802	803	a
O	804	808	core
O	809	812	set
O	813	815	of
O	816	820	data
O	821	825	that
O	826	833	remains
O	834	837	the
O	838	842	same
O	842	843	)
O	844	847	and
O	848	849	b
O	849	850	)
O	851	855	some
O	856	858	of
O	859	862	the
O	863	867	data
O	868	873	items
O	874	877	are
O	878	883	there
O	884	887	for
O	888	896	decision
O	897	903	making
O	904	912	purposes
O	913	917	only
O	918	921	and
O	922	925	are
O	926	929	not
O	930	937	actualy
O	938	947	persisted
O	948	950	to
O	951	954	the
O	955	963	database
O	963	964	.

O	965	967	So
O	968	970	my
O	971	979	question
O	980	982	is
O	983	984	:
O	985	989	what
O	990	992	is
O	993	996	the
O	997	1001	most
O	1002	1011	efficient
O	1012	1019	vehicle
O	1020	1022	to
O	1023	1027	pass
O	1028	1032	such
O	1033	1037	data
O	1038	1040	to
O	1041	1044	the
B-Stan	1045	1051	Oracle
I-Stan	1052	1058	stored
I-Stan	1059	1063	proc
O	1063	1064	?

O	1065	1067	We
O	1068	1072	want
O	1073	1075	to
O	1076	1084	maintain
O	1085	1088	the
O	1089	1099	flexibilty
O	1100	1102	of
O	1103	1108	being
O	1109	1113	able
O	1114	1116	to
O	1117	1121	send
O	1122	1130	variable
O	1131	1140	parameter
O	1141	1145	sets
O	1146	1151	along
O	1152	1156	with
O	1157	1163	having
O	1164	1168	some
O	1169	1178	semblance
O	1179	1181	of
O	1182	1191	structure
O	1192	1198	around
O	1199	1202	the
O	1203	1207	data
O	1207	1208	.

O	1209	1215	Thanks
O	1216	1218	in
O	1219	1226	advance
O	1226	1227	.

O	1228	1233	Barry

O	1234	1238	Have
O	1239	1242	you
O	1243	1253	considered
O	1254	1261	passing
O	1262	1266	your
O	1267	1271	data
O	1272	1274	to
O	1275	1278	the
O	1279	1285	stored
O	1286	1295	procedure
O	1296	1298	as
B-Stan	1299	1302	XML
O	1302	1303	?

O	1304	1310	Oracle
O	1311	1314	can
O	1315	1321	handle
B-Stan	1322	1325	XML
O	1326	1330	data
O	1331	1336	types
O	1336	1337	.

O	1338	1343	There
O	1344	1347	are
O	1348	1352	also
O	1353	1357	some
O	1358	1365	related
O	1366	1375	questions
O	1376	1378	on
O	1379	1384	Stack
O	1385	1393	Overflow
O	1394	1395	:

B-PL	1396	1400	Java
O	1401	1402	:
B-Stan	1403	1409	Oracle
I-Stan	1410	1417	XMLType
O	1418	1419	+
B-Stan	1420	1424	JDBC

O	1425	1428	How
O	1429	1431	to
B-Stan	1432	1438	Oracle
I-Stan	1439	1446	XMLTYPE
O	1447	1449	in
B-Fram	1450	1459	Hibernate

O	1460	1465	Using
B-Fram	1466	1473	MyBatis
O	1474	1478	with
B-Stan	1479	1485	Oracle
I-Stan	1486	1493	XMLType
O	1494	1502	function
B-API	1503	1515	existsNode()

O	1516	1523	However
O	1523	1524	,
B-Stan	1525	1528	XML
O	1529	1532	may
O	1533	1535	be
O	1536	1537	a
O	1538	1549	performance
O	1550	1556	killer
O	1557	1559	in
O	1560	1564	some
O	1565	1575	situations
O	1575	1576	.

O	1577	1584	Another
O	1585	1591	option
O	1592	1594	is
O	1595	1597	to
O	1598	1601	use
B-Stan	1602	1605	REF
I-Stan	1606	1612	CURSOR
O	1613	1618	types
O	1619	1620	:

B-API	1621	1638	PreparedStatement
O	1639	1643	stmt
O	1644	1645	=
B-API	1646	1673	connection.prepareStatement
O	1674	1675	(

O	1676	1677	"
O	1677	1684	DECLARE
O	1684	1685	"

O	1686	1687	+
O	1688	1689	"
O	1689	1696	records
O	1697	1710	SYS_REFCURSOR
O	1711	1712	;
O	1712	1713	"

O	1714	1715	+
O	1716	1717	"
O	1717	1722	BEGIN
O	1722	1723	"

O	1724	1725	+
O	1726	1727	"
O	1727	1731	OPEN
O	1732	1739	records
O	1740	1743	FOR
O	1743	1744	"

O	1745	1746	+
O	1747	1748	"
O	1748	1754	SELECT
O	1755	1756	*
O	1757	1761	FROM
O	1762	1767	TABLE
O	1768	1769	(
O	1769	1770	?
O	1771	1773	);
O	1773	1774	"

O	1775	1776	+
O	1777	1778	"
O	1778	1785	my_proc
O	1786	1787	(
O	1787	1794	records
O	1795	1797	);
O	1797	1798	"

O	1799	1800	+
O	1801	1802	"
O	1802	1804	EN
O	1805	1807	D;
O	1808	1810	")
O	1811	1812	;

O	1813	1815	//
O	1816	1819	Set
O	1820	1823	the
O	1824	1831	records
O	1832	1834	as
O	1835	1837	an
O	1838	1843	array

B-API	1844	1857	stmt.setArray
O	1858	1859	(
O	1859	1860	1
O	1860	1861	,
O	1862	1869	records
O	1870	1872	);

O	1873	1877	That
O	1878	1883	would
O	1884	1886	be
O	1887	1888	a
O	1889	1892	way
O	1893	1895	to
O	1896	1904	somewhat
O	1905	1914	structure
O	1915	1918	the
O	1919	1923	data
O	1924	1927	and
O	1928	1931	yet
O	1932	1939	operate
O	1940	1942	on
O	1943	1949	weakly
O	1950	1955	typed
O	1956	1963	cursors
O	1963	1964	.

O	1965	1968	The
O	1969	1974	above
O	1975	1981	select
O	1982	1987	could
O	1988	1992	have
O	1993	1996	any
O	1997	2001	form
O	2001	2002	.

O	2003	2005	In
O	2006	2010	this
O	2011	2018	example
O	2018	2019	,
O	2020	2023	I'm
O	2024	2032	assuming
O	2033	2037	that
O	2038	2041	you
O	2042	2046	will
O	2047	2049	be
O	2050	2057	binding
O	2058	2067	something
O	2068	2072	like
O	2073	2077	this
O	2078	2079	:

O	2080	2086	CREATE
O	2087	2091	TYPE
O	2092	2095	rec
O	2096	2098	AS
O	2099	2105	OBJECT
O	2106	2107	(
O	2107	2109	ID
O	2110	2116	NUMBER
O	2117	2118	(
O	2118	2119	7
O	2119	2120	)
O	2120	2121	,
O	2122	2127	VALUE
O	2128	2132	CLOB
O	2133	2135	);

O	2136	2142	CREATE
O	2143	2147	TYPE
O	2148	2151	tab
O	2152	2154	AS
O	2155	2160	TABLE
O	2161	2163	OF
O	2164	2167	rec
O	2168	2169	;

O	2170	2171	A
O	2172	2178	simple
O	2179	2186	example
O	2187	2196	procedure
O	2197	2211	implementation
O	2212	2221	expecting
O	2222	2223	a
O	2224	2229	TABLE
O	2230	2232	OF
O	2233	2241	VARCHAR2
B-Stan	2242	2245	REF
I-Stan	2246	2252	CURSOR
O	2253	2254	:
