Fit	O
two	O
normal	O
distributions	O
(	O
histograms	O
)	O
with	O
MCMC	O
using	O
pymc	O
?	O

I	O
am	O
trying	O
to	O
fit	O
line	O
profiles	O
as	O
detected	O
with	O
a	O
spectrograph	O
on	O
a	O
CCD	O
.	O

For	O
ease	O
of	O
consideration	O
,	O
I	O
have	O
included	O
a	O
demonstration	O
that	O
,	O
if	O
solved	O
,	O
is	O
very	O
similar	O
to	O
the	O
one	O
I	O
actually	O
want	O
to	O
solve	O
.	O

I've	O
looked	O
at	O
this	O
:	O
http://stats.stackexchange.com/questions/46626/fitting-model-for-two-normal-distributions-in-pymc	O
and	O
various	O
other	O
questions	O
and	O
answers	O
,	O
but	O
they	O
are	O
doing	O
something	O
fundamentally	O
different	O
than	O
what	O
I	O
want	O
to	O
do	O
.	O

@codeSnippetRemoved	O

My	O
question	O
:	O
Can	O
PyMC	O
(	O
or	O
some	O
variant	O
)	O
give	O
me	O
the	O
mean	O
,	O
amplitude	O
,	O
and	O
sigma	O
for	O
the	O
two	O
components	O
used	O
above	O
?	O

Please	O
note	O
that	O
the	O
functions	O
that	O
I	O
will	O
actually	O
fit	O
on	O
my	O
real	O
problem	O
are	O
NOT	O
Gaussians	O
--	O
so	O
please	O
provide	O
the	O
example	O
using	O
a	O
generic	O
function	O
(	O
like	O
GaussFunc	B-API
in	O
my	O
example	O
)	O
,	O
and	O
not	O
a	O
"	O
built-in	O
"	O
pymc.Normal()	B-API
type	O
function	O
.	O

Also	O
,	O
I	O
understand	O
model	O
selection	O
is	O
another	O
issue	O
:	O
so	O
with	O
the	O
current	O
noise	O
,	O
1	O
component	O
(	O
profile	O
)	O
might	O
be	O
all	O
that	O
is	O
statistically	O
justified	O
.	O

But	O
I'd	O
like	O
to	O
see	O
what	O
the	O
best	O
solution	O
for	O
1	O
,	O
2	O
,	O
3	O
,	O
etc	O
.	O
components	O
would	O
be	O
.	O

I'm	O
also	O
not	O
wed	O
to	O
the	O
idea	O
of	O
using	O
PyMC	O
--	O
if	O
scikit-learn	O
,	O
astroML	O
,	O
or	O
some	O
other	O
package	O
seems	O
perfect	O
,	O
please	O
let	O
me	O
know	O
!	O

EDIT	O
:	O

I	O
failed	O
a	O
number	O
of	O
ways	O
,	O
but	O
one	O
of	O
the	O
things	O
that	O
I	O
think	O
was	O
on	O
the	O
right	O
track	O
was	O
the	O
following	O
:	O
@codeSnippetRemoved	O

But	O
I	O
could	O
not	O
construct	O
a	O
mc.model	B-API
that	O
worked	O
.	O

Not	O
the	O
most	O
concise	O
PyMC	O
code	O
,	O
but	O
I	O
made	O
that	O
decision	O
to	O
help	O
the	O
reader	O
.	O

This	O
should	O
run	O
,	O
and	O
give	O
(	O
really	O
)	O
accurate	O
results	O
.	O

I	O
made	O
the	O
decision	O
to	O
use	O
Uniform	O
priors	O
,	O
with	O
liberal	O
ranges	O
,	O
because	O
I	O
really	O
have	O
no	O
idea	O
what	O
we	O
are	O
modelling	O
.	O

But	O
probably	O
one	O
has	O
an	O
idea	O
about	O
the	O
centroid	O
locations	O
,	O
and	O
can	O
use	O
a	O
better	O
priors	O
there	O
.	O

@codeSnippetRemoved	O

Important	O

Keep	O
in	O
mind	O
the	O
algorithm	O
is	O
agnostic	O
to	O
labeling	O
,	O
so	O
the	O
results	O
might	O
show	O
profile1	O
with	O
all	O
the	O
characteristics	O
from	O
profile2	O
and	O
vice	O
versa	O
.	O
