Android	B-Plat
testing	O
,	O
how	O
to	O
simulate	O
multitouch	O
(	O
zoom	O
in	O
/	O
out	O
)	O
using	O
instruments	O
?	O

I	O
can	O
simply	O
simulate	O
single	O
touches	O
-	O
tap	O
,	O
swipe	O
,	O
hold	O
etc	O
in	O
my	O
tests	O
,	O
but	O
completely	O
stuck	O
with	O
simulating	O
multi	O
touch	O
on	O
HT	O
?	O

Desire	O
with	O
Android	B-Plat
2.2	O
.	O

Could	O
you	O
please	O
advise	O
,	O
how	O
can	O
I	O
reproduce	O
events	O
chain	O
to	O
test	O
multi-touches	O
?	O

I	O
think	O
I	O
need	O
to	O
use	O
some	O
tricky	O
kind	O
of	O
MotionEvent	B-API
like	O
MASK	O
or	O
something	O
like	O
this	O
,	O
but	O
have	O
no	O
idea	O
how	O
do	O
this	O
.	O

I	O
have	O
found	O
here	O
a	O
dump	O
of	O
events	O
of	O
reproduced	O
zooming	O
:	O
http://www.zdnet.com/blog/burnette/how-to-use-multi-touch-in-android-2-part-3-understanding-touch-events/1775?tag=mantle_skin;content	O
@codeSnippetRemoved	O

Here	O
is	O
my	O
issue	O
:	O

event	O
ACTION_POINTER_DOWN	O
(	O
pid	O
1	O
)	O
[	O
#0	O
(	O
pid	O
0	O
)=	O
153,230	O
;	O
#1	O
(	O
pid	O
1	O
)=	O
380,538	O
]	O
event	O
ACTION_MOVE[	O
#0	O
*	O
(	O
pid	O
0	O
)=	O
153,231	O
*	O
;	O
#1	O
*	O
(	O
pid	O
1	O
)=	O
380,538	O
*]	O

How	O
can	O
I	O
generate	O
events	O
with	O
4	O
coordinates	O
(	O
pid	O
0	O
x0	O
y0	O
and	O
pid	O
1	O
x1	O
y1	O
)	O
?	O

Looks	O
like	O
I	O
need	O
to	O
find	O
the	O
way	O
how	O
to	O
use	O
following	O
event	O
:	O

public	O
static	O
MotionEvent	B-API
obtain	O
(	O
long	O
downTime	O
,	O
long	O
eventTime	O
,	O
int	O
action	O
,	O
int	O
pointers	O
,	O
int	O
[]	O
pointerIds	O
,	O
PointerCoords	B-API
[]	O
pointerCoords	O
,	O
int	O
metaState	O
,	O
float	O
xPrecision	O
,	O
float	O
yPrecision	O
,	O
int	O
deviceId	O
,	O
int	O
edgeFlags	O
,	O
int	O
source	O
,	O
int	O
flags	O
)	O

Thanks	O
to	O
Dan	O
for	O
reply	O
,	O
I	O
have	O
tried	O
this	O
logic	O
,	O
but	O
still	O
encountering	O
problems	O
to	O
add	O
coordinates	O
:	O
@codeSnippetRemoved	O

These	O
events	O
sequence	O
are	O
caught	O
in	O
my	O
test	O
stub	O
and	O
dumped	O
like	O
:	O
@codeSnippetRemoved	O

Here	O
you	O
can	O
see	O
,	O
that	O
(	O
2	O
*	O
256	O
)	O
+	O
MotionEvent.ACTION_MOVE	O
doesn't	O
change	O
the	O
pointer	O
ID	O
for	O
event	O
:(	O
And	O
pointerToMove	O
MotionEvent.ACTION_POINTER_INDEX_SHIFTapproach	O
is	O
not	O
working	O
for	O
ACTION_POINTER_DOWN	O
,	O
may	O
be	O
I'm	O
not	O
allowed	O
to	O
use	O
such	O
way	O
for	O
POINTER_DOWN	O
?	O

My	O
issue	O
is	O
that	O
I	O
can't	O
generate	O
2	O
pair	O
of	O
coords	O
for	O
Pointer	O
0	O
and	O
Pointer	O
1	O
:	O
@codeSnippetRemoved	O

Here	O
you	O
can	O
see	O
,	O
that	O
using	O
your	O
logic	O
I	O
have	O
added	O
pid1	O
to	O
the	O
event	O
,	O
but	O
it	O
is	O
still	O
has	O
no	O
coordinates	O
,	O
cause	O
x	O
and	O
y	O
was	O
associated	O
with	O
pid	O
0	O
..	O

Thank	O
you	O
in	O
advance	O
.	O

Yahor	O

Still	O
have	O
no	O
ideas	O
how	O
to	O
implement	O
it	O
,	O
did	O
somebody	O
ever	O
send	O
a	O
multitouch	O
event	O
?	O

I	O
believe	O
you	O
just	O
need	O
to	O
indicate	O
the	O
pointer	O
index	O
in	O
the	O
'	O
action	O
'	O
parameter	O
passed	O
to	O
MotionEvent.obtain	B-API
.	O

Specifically	O
,	O
the	O
upper	O
8-b	O
its	O
of	O
the	O
action	O
is	O
the	O
pointer	O
index	O
and	O
the	O
lower	O
8-b	O
its	O
is	O
the	O
action	O
(	O
e.g.	O
MotionEvent.ACTION_MOVE	O
)	O
.	O

So	O
,	O
if	O
you	O
want	O
to	O
move	O
the	O
second	O
pointer	O
this	O
should	O
work	O
:	O
@codeSnippetRemoved	O

-Dan	O

I	O
supposed	O
this	O
can	O
help	O
you	O
..	O

i	O
am	O
sorry	O
..	O

i	O
think	O
i	O
misunderstood	O
your	O
question	O
.	O

You	O
may	O
ignore	O
the	O
answer	O

there	O
is	O
no	O
event	O
such	O
a	O
multi	O
touch	O
event	O
.	O

All	O
you	O
have	O
are	O
motion	O
events	O
.	O

When	O
a	O
user	O
touches	O
first	O
time	O
,	O
an	O
ACTION_DOWN	O
event	O
is	O
raised	O
.	O

When	O
the	O
second	O
finger	O
is	O
also	O
touched	O
(	O
dual	O
touch	O
)	O
an	O
ACTION_POINTER	O
DOWN	O
event	O
is	O
raised	O
.	O

You	O
need	O
to	O
override	O
onTouchEvent	O
and	O
implement	O
multitouch	O
.	O

The	O
code	O
below	O
will	O
help	O
you	O
.	O

It	O
tracks	O
mutli	O
touch	O
zoom	O
,	O
scrolling	O
.	O

@codeSnippetRemoved	O

Hope	O
this	O
helps	O
