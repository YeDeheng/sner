Android	B-Plat
WebView	B-API
shows	O
plain	O
text	O
instead	O
of	O
html	B-PL

First	O
,	O
I	O
am	O
going	O
to	O
say	O
this	O
is	O
only	O
an	O
issue	O
on	O
Android	B-Plat
2	O
and	O
older	O
(	O
4	O
seems	O
to	O
be	O
unaffected	O
and	O
I	O
didn't	O
test	O
3	O
)	O
.	O

I	O
have	O
a	O
WebView	B-API
that	O
loads	O
html	B-PL
from	O
a	O
string	O
.	O

The	O
HTML	B-PL
looks	O
like	O
this	O
:	O
@codeSnippetRemoved	O

You	O
can	O
see	O
that	O
css	B-PL
file	O
looks	O
like	O
this	O
:	O
@codeSnippetRemoved	O

The	O
WebView	B-API
code	O
looks	O
like	O
this	O
:	O
@codeSnippetRemoved	O

What	O
Happens	O

I	O
see	O
the	O
html	B-PL
code	O
in	O
the	O
WebView	B-API
as	O
if	O
I	O
had	O
set	O
the	O
mime	O
type	O
to	O
plain	O
text	O
.	O

What	O
I'd	O
Expect	O
(	O
and	O
what	O
happens	O
in	O
Android	B-Plat
4.x	O

I	O
see	O
the	O
html	B-PL
in	O
the	O
WebView	B-API

There	O
are	O
a	O
few	O
things	O
that	O
have	O
to	O
be	O
true	O
to	O
show	O
the	O
symptoms	O
I	O
am	O
seeing	O
:	O

Android	B-Plat
2.x	O
(	O
I	O
was	O
using	O
2.3.7	O
and	O
2.2	O
)	O
The	O
css	B-PL
has	O
to	O
be	O
accessed	O
via	O
a	O
url	O
href=	O
"	O
http://www.robotsidekick.com/test.css?rev=0	O
"	O
as	O
opposed	O
to	O
href=	O
"	O
test.css	B-API
"	O
(	O
however	O
it	O
doesn't	O
matter	O
if	O
it	O
'	O
s	O
a	O
real	O
css	B-PL
file	O
href=	O
"	O
http://www.thisisnotarealurl.fake/test.css?rev=0	O
causes	O
the	O
same	O
problem	O
)	O
The	O
css	B-PL
must	O
have	O
a	O
get	O
parameter	O
?	O

rev=0	O
,	O
but	O
it	O
doesn't	O
matter	O
what	O
it	O
is	O

Also	O
wanted	O
to	O
note	O
that	O
the	O
following	O
did	O
not	O
make	O
a	O
difference	O
:	O

Using	O
the	O
appropriate	O
"	O
instead	O
of	O
'	O
in	O
the	O
HTML	B-PL
Having	O
the	O
link	O
tag	O
close	O
itself	O
or	O
not	O
The	O
contents	O
of	O
the	O
css	B-PL
Adding	O
a	O
doctype	O
!	O

DOCTYPE	O
html	B-PL
to	O
the	O
HTML	B-PL

Changing	O
the	O
webview.loadData	B-API
line	O
to	O
this	O
:	O
@codeSnippetRemoved	O

Solves	O
this	O
problem	O
.	O

It	O
seems	O
weird	O
to	O
me	O
that	O
a	O
relative	O
path	O
with	O
an	O
unencoded	O
?	O

doesn't	O
cause	O
problems	O
,	O
while	O
a	O
fake	O
url	O
with	O
an	O
unencoded	O
?	O

does	O
cause	O
problems	O
.	O

Also	O
find	O
it	O
odd	O
that	O
the	O
WebView	B-API
changed	O
enough	O
in	O
subsequent	O
versions	O
of	O
Android	B-Plat
that	O
we	O
don't	O
have	O
to	O
go	O
encoding	O
our	O
html	B-PL
anymore	O
?	O

That	O
sounds	O
fishy	O
.	O
