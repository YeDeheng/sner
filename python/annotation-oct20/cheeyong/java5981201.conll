Double	O
value	O
negative	O
after	O
multiplication	O
-Java	O

In	O
my	O
code	O
i	O
have	O
following	O
line	O
.	O

@codeSnippetRemoved	O

Here	O
c12	O
is	O
double	O
and	O
fileSizeis	O
double	O
c12	O
have	O
a	O
value	O
1700	O
and	O
fileSize	O
have	O
a	O
value	O
1944038	O

but	O
after	O
multiplication	O
i	O
am	O
getting	O
-990102696	O
.	O

Can	O
any	O
one	O
help	O
me	O
on	O
it	O
?	O

Is	O
that	O
some	O
size	O
limits	O
went	O
wrong	O
?	O

(	O
int	O
)	O
1700	O
*	O
(	O
int	O
)	O
1944038	O
is	O
equal	O
to	O
your	O
-990102696	O
.	O

Are	O
you	O
sure	O
c12	O
and	O
fileSize	O
aren't	O
integers	O
?	O

If	O
they	O
are	O
,	O
the	O
multiplication	O
occurs	O
with	O
integer	O
types	O
,	O
integer	O
overflow	O
and	O
it	O
is	O
being	O
promoted	O
to	O
double	O
afterwards	O
.	O

Use	O
BigDecimal	B-API
multiply	O
method	O
instead	O
like	O
this	O
to	O
safeguard	O
against	O
potential	O
overlow	O
issues	O
while	O
handling	O
large	O
double	O
numbers	O
:	O
@codeSnippetRemoved	O

Your	O
c12	O
and	O
fileSize	O
are	O
most	O
likely	O
ints	O
(	O
+1	O
Tomasz	O
)	O
.	O

Java	B-PL
multiplies	O
the	O
ints	O
,	O
which	O
overflows	O
,	O
becoming	O
negative	O
,	O
and	O
then	O
stores	O
that	O
negative	O
value	O
in	O
your	O
double	O
.	O

Cast	O
c12	O
and	O
fileSize	O
to	O
double	O
before	O
multiplying	O
:	O
@codeSnippetRemoved	O

produces	O
:	O
@codeSnippetRemoved	O

Make	O
a	O
double	O
on	O
the	O
fly	O
:	O
@codeSnippetRemoved	O

else	O
,	O
an	O
c12	O
as	O
int	O
will	O
be	O
multiplied	O
by	O
another	O
int	O
,	O
and	O
the	O
result	O
overflows	O
,	O
and	O
is	O
later	O
-	O
too	O
late	O
-	O
converted	O
to	O
double	O
.	O

@codeSnippetRemoved	O

would	O
help	O
,	O
but	O
a	O
filesize	O
as	O
float	O
/	O
double	O
looks	O
fishy	O
.	O

double	O
c12	O
=	O
1700	O
;	O
double	O
fileSize	O
=	O
1944038	O
;	O
double	O
temp	O
=(	O
c12*fileSize	O
);	O
System.out.println	B-API
(	O
temp	O
);	O

Gives	O
3.3048646E9	O

I	O
bet	O
your	O
c12	O
and	O
fileSize	O
are	O
ints	O
.	O

Hmm	O
,	O
I	O
just	O
tried	O
that	O
and	O
I	O
get	O
"	O
3.3048646E9	O
"	O
.	O

You	O
shouldn't	O
get	O
any	O
overflow	O
wrap	O
around	O
on	O
a	O
double	O
:	O
if	O
you	O
exceed	O
the	O
maximum	O
,	O
it	O
should	O
turn	O
into	O
"	O
Infinity	O
"	O
.	O

I	O
suspect	O
the	O
problem	O
is	O
in	O
whatever	O
you're	O
trying	O
to	O
do	O
to	O
write	O
this	O
number	O
.	O

Or	O
maybe	O
you	O
need	O
to	O
show	O
us	O
some	O
more	O
code	O
.	O
