C#	B-PL
service	O
as	O
a	O
daemon	O
in	O
debian	O
with	O
mono-service	O

I	O
can't	O
seem	O
to	O
find	O
a	O
way	O
to	O
get	O
a	O
C#	B-PL
service	O
run	O
as	O
a	O
"	O
service	O
"	O
in	O
debian.What	B-API
Am	O
I	O
doing	O
wrong	O
?	O

I	O
followed	O
this	O
post	O
from	O
msdn	O
to	O
create	O
a	O
sample	O
windows	B-Plat
service	O
:	O
http://msdn.microsoft.com/en-us/library/zt39148a(v=vs.80).aspx	O

I	O
can	O
run	O
the	O
service	O
at	O
my	O
windows	B-Plat
machine	O
,	O
Start	O
and	O
stop	O
the	O
service	O
and	O
see	O
that	O
it	O
writes	O
to	O
MyNewLog	B-API
.	O

Then	O
I	O
copy	O
it	O
(	O
.exe	O
file	O
)	O
to	O
my	O
debian	O
machine	O
and	O
tries	O
to	O
run	O
it	O
with	O
(	O
as	O
root	O
)	O
mono-service	O
MyNewService.exe	B-API

The	O
Syslog	O
tell	O
'	O
s	O
me	O
that	O
the	O
service	O
have	O
started	O
!	O

I	O
have	O
no	O
errors	O
and	O
I	O
can't	O
see	O
any	O
newly	O
created	O
logfiles	O
in	O
the	O
system	O
.	O

What	O
Am	O
I	O
doing	O
wrong	O
?	O

If	O
it	O
helps	O
,	O
here	O
is	O
the	O
code	O
:P	O
rogram.cs	B-API
@codeSnippetRemoved	O

Service.cs	B-API
@codeSnippetRemoved	O

/	O
Cheers	O

Try	O
logging	O
somewhere	O
else	O
than	O
with	O
System.Diagnostics.EventLog	B-API
,	O
perhaps	O
to	O
a	O
text	O
file	O
or	O
similar	O
.	O

I	O
can't	O
find	O
anything	O
recent	O
,	O
but	O
this	O
post	O
suggests	O
that	O
the	O
EventLog	B-API
is	O
simply	O
discarded	O
when	O
running	O
on	O
Linux	B-Plat
;	O
which	O
would	O
make	O
sense	O
.	O

EDIT	O
:	O

Investigating	O
the	O
Mono	O
source	O
seems	O
to	O
bear	O
this	O
out	O
.	O

There	O
are	O
three	O
possible	O
options	O
for	O
event	O
logging	O
:	O
win32	O
,	O
local	O
and	O
null	O
.	O

If	O
the	O
MONO_EVENTLOG_TYPE	O
environment	O
variable	O
is	O
set	O
to	O
local	O
,	O
then	O
on	O
Linux	B-Plat
the	O
logs	O
should	O
be	O
written	O
to	O
/	O
var	O
/	O
lib	O
/	O
mono	O
/	O
eventlog	O
by	O
default	O
.	O

You	O
really	O
need	O
to	O
isolate	O
your	O
logging	O
code	O
from	O
your	O
expectations	O
-	O
it	O
seems	O
that	O
your	O
service	O
works	O
fine	O
,	O
but	O
the	O
logging	O
is	O
the	O
problem	O
.	O
