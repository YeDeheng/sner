How	O
can	O
I	O
do	O
the	O
equivalent	O
of	O
submitting	O
a	O
form	O
twice	O
with	O
PHP	B-PL
?	O

I	O
have	O
a	O
problem	O
with	O
a	O
form	O
.	O

I	O
need	O
it	O
to	O
perform	O
two	O
actions	O
with	O
only	O
one	O
submit	O
click	O
.	O

I've	O
read	O
that	O
the	O
best	O
solution	O
is	O
a	O
server-side	O
script	O
,	O
but	O
my	O
knowledge	O
of	O
PHP	B-PL
is	O
pretty	O
limited	O
,	O
so	O
I'd	O
really	O
appreciate	O
any	O
help	O
.	O

The	O
two	O
actions	O
I	O
need	O
to	O
perform	O
are	O
:	O

Run	O
a	O
script	O
that	O
uploads	O
a	O
file	O
and	O
sends	O
an	O
email	O
(	O
action=	O
"	O
uploader.php	B-API
"	O
)	O
Direct	O
the	O
user	O
to	O
a	O
PayPal	B-API
payment	O
gateway	O
(	O
action=	O
"	O
https://www.paypal.com/cgi-bin/webscr	O
"	O
)	O

As	O
I	O
see	O
it	O
,	O
the	O
problem	O
is	O
that	O
I	O
don't	O
have	O
control	O
over	O
the	O
PayPal	B-API
script	O
,	O
but	O
it	O
obviously	O
takes	O
some	O
data	O
from	O
the	O
form	O
(	O
i.e.	O
amount	O
,	O
concept	O
,	O
etc	O
...	O
)	O
,	O
so	O
adding	O
a	O
simple	O
redirect	O
in	O
uploader.php	B-API
isn't	O
enough	O
.	O

What	O
do	O
you	O
think	O
?	O

How	O
could	O
I	O
solve	O
it	O
?	O

Thanks	O
!	O

UPDATE	O
:	O
I'll	O
try	O
to	O
post	O
the	O
user-action	O
flow	O
:	O

user	O
fills	O
in	O
the	O
form	O
and	O
adds	O
a	O
file	O
to	O
upload	O
1st	O
form	O
action	O
:	O
file	O
is	O
uploaded	O
and	O
an	O
email	O
is	O
sent	O
(	O
action=	O
"	O
uploader.php	B-API
"	O
)	O
2nd	O
form	O
action	O
:	O
user	O
is	O
taken	O
to	O
a	O
paypal	O
payment	O
form	O
(	O
action=	O
"	O
https://www.paypal.com/cgi-bin/webscr	O
"	O
)	O
When	O
the	O
purchase	O
is	O
completed	O
the	O
user	O
is	O
taken	O
to	O
a	O
purchase	O
confirmation	O
page	O
.	O

Your	O
uploader.php	B-API
should	O
show	O
the	O
new	O
paypal	O
form	O
(	O
or	O
the	O
same	O
)	O
to	O
user	O
and	O
submit	O
it	O
by	O
javascript	B-PL
on	O
dom	O
ready.Don't	O
forget	O
about	O
non-javascript	O
users	O
too	O
.	O

@codeSnippetRemoved	O

You	O
can	O
send	O
the	O
form	O
to	O
submit.php	B-API
,	O
upload	O
your	O
file	O
,	O
perform	O
your	O
email	O
action	O
,	O
then	O
use	O
CURL	B-Fram
to	O
send	O
your	O
data	O
on	O
to	O
PayPal	B-API
.	O

This	O
site	O
has	O
an	O
example	O
of	O
how	O
to	O
send	O
data	O
to	O
PayPal	B-API
via	O
CURL	B-Fram
/	O
PHP	B-PL
:	O

http://curl.phptrack.com/forum/viewtopic.php?p=9643	O
sid=5cc0c394df6efcf73772273846430fbe	O
