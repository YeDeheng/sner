ajax	B-Stan
adding	O
information	O
to	O
database	O

im	O
still	O
fairly	O
new	O
to	O
the	O
whole	O
ruby	B-PL
on	O
rails	O
stuff	O
,	O
though	O
i	O
have	O
read	O
that	O
you	O
can	O
easily	O
perform	O
ajax	B-Stan
requests	O
.	O
what	O
im	O
trying	O
to	O
do	O
is	O
add	O
a	O
new	O
row	O
to	O
the	O
database	O
table	O
,	O
and	O
pass	O
a	O
few	O
variables	O
from	O
it	O
.	O

what	O
i	O
have	O
at	O
present	O
is	O
@codeSnippetRemoved	O

controller	O
code	O

#	O
POST	O
/	O
availabilities	O
#	O
POST	O
/	O
availabilities.json	B-API
def	O
create	O
@availability	O
=	O
Availability.new	B-API
(	O
params	O
[:	O
availability	O
]	O
)	O
@codeSnippetRemoved	O

end	O

though	O
how	O
does	O
it	O
know	O
what	O
variables	O
to	O
pass	O
to	O
the	O
database	O
?	O

this	O
is	O
what	O
is	O
happening	O
at	O
present	O

Processing	O
by	O
AvailabilitiesController	B-API
#create	O
as	O
HTML	B-PL
Parameters	O
:	O
{	O
"	O
schedule_id	O
"	O
=	O
"	O
18	O
"	O
,	O
"	O
team_id	O
"	O
=	O
"	O
1	O
"	O
,	O
"	O
user_id	O
"	O
=	O
"	O
38	O
"	O
}	O
User	O
Load	O
(	O
1.6ms	O
)	O
SELECT	O
"	O
users	O
"	O
.	O

*	O
FROM	O
"	O
users	O
"	O
WHERE	O
"	O
users	O
"	O
.	O

"	O
id	O
"	O
=	O
38	O
LIMIT	O
1	O
(	O
0.4ms	O
)	O
BEGIN	O
SQL	B-PL
(	O
20.1ms	O
)	O
INSERT	O
INTO	O
"	O
availabilities	O
"	O
(	O
"	O
available	O
"	O
,	O
"	O
created_at	O
"	O
,	O
"	O
schedule_id	O
"	O
,	O
"	O
team_id	O
"	O
,	O
"	O
updated_at	O
"	O
,	O
"	O
user_id	O
")	O
VALUES	O
(	O
$1	O
,	O
$2	O
,	O
$3	O
,	O
$4	O
,	O
$5	O
,	O
$6	O
)	O
RETURNING	O
"	O
id	O
"	O
[[	O
"	O
available	O
"	O
,	O
nil]	O
,	O
[	O
"	O
created_at	O
"	O
,	O
Tue	O
,	O
18	O
Sep	O
2012	O
23:07	O
:	O
26	O
EST	O
+	O
10:00	O
]	O
,	O
[	O
"	O
schedule_id	O
"	O
,	O
nil]	O
,	O
[	O
"	O
team_id	O
"	O
,	O
nil]	O
,	O
[	O
"	O
updated_at	O
"	O
,	O
Tue	O
,	O
18	O
Sep	O
2012	O
23:07	O
:	O
26	O
EST	O
+	O
10:00	O
]	O
,	O
[	O
"	O
user_id	O
"	O
,	O
nil	O
]]	O
(	O
10.5ms	O
)	O
COMMIT	O

If	O
you	O
want	O
to	O
pass	O
information	O
to	O
your	O
rails	O
app	O
,	O
you	O
will	O
need	O
to	O
place	O
the	O
@codeSnippetRemoved	O

on	O
to	O
the	O
form_for	O
tag	O
,	O
then	O
your	O
controller	O
will	O
be	O
able	O
to	O
pass	O
those	O
params	O
on	O
to	O
your	O
model	O
.	O

If	O
you	O
want	O
to	O
pass	O
more	O
than	O
one	O
variable	O
to	O
the	O
server	O
you	O
include	O
them	O
in	O
the	O
http	B-Stan
request	O
.	O

This	O
is	O
true	O
for	O
AJAX	B-Stan
requests	O
as	O
well	O
as	O
regular	O
ones	O
.	O

For	O
example	O
:	O
@codeSnippetRemoved	O

Often	O
though	O
with	O
more	O
complex	O
submissions	O
you'll	O
want	O
to	O
use	O
a	O
remote	O
form	O
rather	O
than	O
just	O
a	O
simple	O
link	O
.	O
